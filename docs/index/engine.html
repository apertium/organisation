<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>2&nbsp;The shallow-transfer machine
translation engine</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="figure.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="figure.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="file:///usr/share/doc/racket/local-redirect/local-redirect.js"></script><script type="text/javascript" src="file:///home/selimcan/.racket/7.2/doc/local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Documentation of the Open-<wbr></wbr>Source Shallow-<wbr></wbr>Transfer
Machine-<wbr></wbr>Translation Platform <span style="font-style: italic">Apertium</span></a></td></tr></table></div><div class="tocviewsublistonly" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="intro.html" class="tocviewlink" data-pltdoc="x">Introduction</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">The shallow-<wbr></wbr>transfer machine
translation engine</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="stream-format-spec.html" class="tocviewlink" data-pltdoc="x">Format
specification of the data stream between modules</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="modules-spec.html" class="tocviewlink" data-pltdoc="x">Modules specification</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="install-and-run.html" class="tocviewlink" data-pltdoc="x">Installing and running the system</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="maintain.html" class="tocviewlink" data-pltdoc="x">Maintaining linguistic data</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="data-insertion.html" class="tocviewlink" data-pltdoc="x">Data insertion web forms</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="Apertium-lex-tools.html" class="tocviewlink" data-pltdoc="x">Apertium-<wbr></wbr>lex-<wbr></wbr>tools</a></td></tr><tr><td align="right">9&nbsp;</td><td><a href="Apertium-separable.html" class="tocviewlink" data-pltdoc="x">Apertium-<wbr></wbr>separable</a></td></tr><tr><td align="right">10&nbsp;</td><td><a href="best.html" class="tocviewlink" data-pltdoc="x">Best practices when developing
an Apertium translator</a></td></tr><tr><td align="right">11&nbsp;</td><td><a href="a.html" class="tocviewlink" data-pltdoc="x">Appendix A. XML DTDs</a></td></tr><tr><td align="right">12&nbsp;</td><td><a href="b.html" class="tocviewlink" data-pltdoc="x">Appendix B. Grammatical symbols used in the modules</a></td></tr><tr><td align="right">13&nbsp;</td><td><a href="c.html" class="tocviewlink" data-pltdoc="x">Appendix C. Abbreviations used in the text</a></td></tr><tr><td align="right"></td><td><a href="doc-bibliography.html" class="tocviewlink" data-pltdoc="x">Bibliography</a></td></tr></table></div></div></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">3.5.2</span></div><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;7.2&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.2&quot;);">top</a></span><span class="navright">&nbsp;&nbsp;<a href="intro.html" title="backward to &quot;1 Introduction&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Documentation of the Open-Source Shallow-Transfer
Machine-Translation Platform Apertium&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="stream-format-spec.html" title="forward to &quot;3 Format
specification of the data stream between modules&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3 x-source-module="(lib &quot;apertium-platform-doc/index.scrbl&quot;)" x-source-pkg="docs-source" x-part-tag="&quot;engine&quot;">2<tt>&nbsp;</tt><a name="(part._engine)"></a>The shallow-transfer machine
translation engine</h3><p>This chapter describes briefly the structure of the shallow-transfer machine
translation engine, which is largely based on that of the existing systems for
Spanish&ndash;Catalan <span class="stt">interNOSTRUM</span><span class="Autobibref">&nbsp;[<a href="doc-bibliography.html#%28autobib._.R..._.Canals-.Marote%2C._.A..._.Esteve-.Guill~c3~a9n%2C._.A..._.Garrido-.Alenda%2C._.M..._.Guardiola-.Savall%2C._.A..._.Iturraspe-.Bellver%2C._.S..._.Monserrat-.Buendia%2C._.S..._.Ortiz-.Rojas%2C._.H..._.Pastor-.Pina%2C._.P...M..._.Perez-.Ant~c3~b3n%2C._and._.M...L..._.Forcada.El._sistema._de._traducci~c3~b3n._autom~c3~a1tica._.Castellano-.Catal~c3~a1n._inter.N.O.S.T.R.U.M.Procesamiento._del._.Lenguaje._.Natural._27%2C._pp..._151--1562001%29" class="AutobibLink" data-pltdoc="x">1</a>]</span>
<span class="Autobibref">&nbsp;[<a href="doc-bibliography.html#%28autobib._.Alicia._.Garrido-.Alenda._and._.Mikel._.L..._.Forcada.Morph.Trans~3a._un._lenguaje._y._un._compilador._para._especificar._y~0a._._._._._._._generar._m~c3~b3dulos._de._transferencia._morfol~c3~b3gica._para._sistemas~0a._._._._._._._de._traducci~c3~b3n._autom~c3~a1tica.Procesamiento._del._.Lenguaje._.Natural._27%2C._pp..._157--1642001%29" class="AutobibLink" data-pltdoc="x">3</a>]</span> <span class="Autobibref">&nbsp;[<a href="doc-bibliography.html#%28autobib._.A..._.Garrido%2C._.A..._.Iturraspe%2C._.S..._.Montserrat%2C._.H..._.Pastor%2C._and._.M...L..._.Forcada.A._compiler._for._morphological._analysers._and._generators._based._on._finite-state._transducers.Procesamiento._del._.Lenguaje._.Natural._25%2C._pp..._93--981999%29" class="AutobibLink" data-pltdoc="x">2</a>]</span> and for Spanish&ndash;Portuguese
<span class="stt">Traductor Universia</span> <span class="Autobibref">&nbsp;[<a href="doc-bibliography.html#%28autobib._.Alicia._.Garrido-.Alenda%2C._.Patricia._.Gilabert._.Zarco%2C._.Juan._.Antonio._.P~c3~a9rez-.Ortiz%2C._.Antonio._.Pertusa-.Ib~c3~a1~c3~b1ez%2C._.Gema._.Ram~c3~adrez-.S~c3~a1nchez%2C._.Felipe._.S~c3~a1nchez-.Mart~c3~adnez%2C._.Miriam._.A..._.Scalco%2C._and._.Mikel._.L..._.Forcada.Shallow._parsing._for._.Portuguese-.Spanish._machine._translation.In._.Proc..._.T.A.S.H.A._2003~3a._.Workshop._on._.Tagging._and._.Shallow._.Processing._of._.Portuguese%2C._pp..._21--242003%29" class="AutobibLink" data-pltdoc="x">4</a>]</span> <span class="Autobibref">&nbsp;[<a href="doc-bibliography.html#%28autobib._.Patr~c3~adcia._.Gilabert._.Zarco%2C._.Javier._.Herrero-.Vicente%2C._.Sergio._.Ortiz-.Rojas%2C._.Antonio._.Pertusa-.Ib~c3~a1~c3~b1ez%2C._.Gema._.Ram~c3~adrez-.S~c3~a1nchez%2C._.Felipe._.S~c3~a1nchez-.Mart~c3~adnez%2C._.Marcial._.Samper-.Asensio%2C._.M~c3~adriam._.A..._.Scalco%2C._and._.Mikel._.L..._.Forcada.Construcci~c3~b3n._r~c3~a1pida._de._un._sistema._de._traducci~c3~b3n~0a._._._._._._._._._._._autom~c3~a1tica._espa~c3~b1ol-portugu~c3~a9s._partiendo._de._un._sistema._espa~c3~b1ol--catal~c3~a1n.Procesamiento._del._.Lenguaje._.Natural._32%2C._pp..._279--2852003%29" class="AutobibLink" data-pltdoc="x">5</a>]</span>, both developed
by the Transducens group of the Universitat d&rsquo;Alacant.  It is a classical
indirect translation system that uses a partial syntactic transfer strategy
similar to the one used by some commercial MT systems for personal computers.</p><p>The design of the system makes it possible to produce MT systems that are
<span style="font-style: italic">fast</span> (translating tens of thousands of words per second on ordinary
desktop computers) and that achieve results that are, in spite of the errors,
reasonably intelligible and easily correctable. In the case of related
languages such as the ones involved in the project (Spanish, Galician,
Catalan), a mechanical word-for-word translation (with a fixed equivalent)
would produce errors that, in most cases, can be solved with a quite
rudimentary analysis (a morphological analysis followed by a superficial, local
and partial syntactic analysis) and with an appropriate treatment of lexical
ambiguities (mainly due to homography). The design of our system follows this
approach with very interesting results. The Apertium architecture uses
finite-state transducers for lexical processing, hidden Markov models for
part-of-speech tagging and finite-state-based chunking for structural transfer.</p><p>The translation engine consists of an 8-module <span style="font-style: italic">assembly line</span>, which is
represented in <a href="#%28counter._%28figure._fig~3amodules%29%29" data-pltdoc="x">Figure&nbsp;<span class="FigureRef">1</span></a>. To ease diagnosis and independent
testing, modules communicate between them using text streams.  This way, the
input and output of the modules can be checked at any moment and, when an error
in the translation process is detected, it is easy to test the output of each
module separately to track down the origin of the error. At the same time,
communication via text allows for some of the modules to be used in isolation,
independently from the rest of the MT system, for other natural-language
processing tasks, and enables the construction of prototypes with modified or
additional modules.</p><p>We decided to encode linguistic data files in
XML\footnote{\url{http://www.w3.org/XML/}}-based formats due to its
interoperability, its independence of the character set and the availability of
many tools and libraries that make easy the analysis of data in this format. As
stated in \cite{ide00}, XML is the emerging standard for data representation
and exchange in Internet. Technologies around XML include very powerful
mechanisms for accessing and editing XML documents, which will probably have a
significant impact on the development of tools for natural language processing
and annotated corpora.</p><blockquote class="Figure"><blockquote class="Centerfigure"><blockquote class="FigureInside"><p><img src="Apertium_system_architecture.png" alt="" width="2048" height="495"/></p></blockquote></blockquote><p class="Centertext"><span class="Legend"><span class="FigureTarget"><a name="(counter._(figure._fig~3amodules))" x-target-lift="Figure"></a>Figure&nbsp;1: </span>The eight modules that build the assembly line
        of the shallow-transfer machine translation system.</span></p></blockquote><p>The modules Apertium consists of are the following:</p><p>\begin{itemize}
\item The \emph{de-formatter}, which separates the text to be
translated from the format information (RTF, HTML, etc.); its
specification can be found in Section \ref{ss:formato}. Format
information is encapsulated so that the rest of the modules treat it
as blanks between words. For example, for the HTML text in Spanish:
\begin{alltt}
 es &lt;em&gt;una se&#241;al&lt;/em&gt;
\end{alltt}
("it is a sign") the de-formatter encapsulates in brackets
the HTML tags and gives the output:
\begin{alltt}
es [&lt;em&gt;]una se&#241;al[&lt;/em&gt;]
\end{alltt}
The character sequences in brackets are treated by the
rest of the modules as simple blanks between words.
\item \label{pg:FSFL} The \emph{morphological analyser}, which
  tokenizes the text in \emph{surface forms} (SF) (lexical units as
  they appear in texts) and delivers, for each SF, one or more
  \emph{lexical forms} (LF) consisting of \emph{lemma} (the base form
  commonly used in classic dictionary entries), the \emph{lexical
  category} (noun, verb, preposition, etc.) and morphological
  inflection information (number, gender, person, tense,
  etc.). Tokenization of a text in SFs is not straightforward due to
  the existence, on the one hand, of contractions (in Spanish,
  \emph{del}, \emph{teni&#233;ndolo}, \emph{v&#225;monos}; in English,
  \emph{didn&rsquo;t}, \emph{can&rsquo;t}) and, on the other hand, of lexical
  units made of more than one word (in Spanish, \emph{a pesar de},
  \emph{ech&#243; de menos}; in English, \emph{in front of}, \emph{taken
  into account}). The morphological analyser is able to analyse these
  complex SFs and treat them appropriately so that they can be
  processed by the next modules. In the case of contractions, the
  system reads a single surface form and gives as output a sequence of
  two or more lexical forms (for instance, the Spanish
  preposition-article contraction \emph{del} would be analysed into
  two lexical forms, one for the preposition \emph{de} and another one
  for the article \emph{el}). Lexical units made of more than one word
  (multiwords) are treated as single lexical forms and processed
  specifically according to its type.\footnote{For more information
  about the treatment of multiwords, please refer to page
  ~\pageref{ss:multipalabras}.}</p><p>Upon receiving as input the example text from the previous module, the
morphological analyser would deliver:
\begin{alltt}
^es/ser&lt;vbser&gt;&lt;pri&gt;&lt;p3&gt;&lt;sg&gt;\$[ &lt;em&gt;]
^una/un&lt;det&gt;&lt;ind&gt;&lt;f&gt;&lt;sg&gt;/unir&lt;vblex&gt;&lt;prs&gt;&lt;1&gt;&lt;sg&gt;/unir
&lt;vblex&gt;&lt;prs&gt;&lt;3&gt;&lt;sg&gt;\$
^se&#241;al/se&#241;al&lt;n&gt;&lt;f&gt;&lt;sg&gt;\$[&lt;/em&gt;]
\end{alltt}</p><p>where each surface form has been analysed into one or more lexical
forms: \emph{es} has been analysed as one SF with lemma \emph{ser}
("to be"), whereas \emph{una} receives three analyses: lemma \emph{un}
("one"), determiner, indefinite, feminine, singular; lemma \emph{unir}
("to join"), verb in subjunctive present, 1st person singular, and
lemma \emph{unir}, verb in subjunctive present, 3rd person singular.</p><p>This module is generated from a source language (SL) morphological
dictionary, the format of which is specified in section
\ref{ss:diccionarios}.
\item The \emph{part-of-speech tagger} chooses, using a statistical
model (hidden Markov model), one of the analyses of an ambiguous word
according to its context; in the previous example, the ambiguous word
would be the surface form \emph{una}, which can have three different
analyses. A sizeable fraction of surface forms (in Romance languages,
for instance, around one out of every three words) are ambiguous, that
is, they can be analysed into more than one lemma, more than one
part-of-speech or have more than one inflection analysis, and are
therefore an important source of translation errors when the wrong
equivalent is chosen. The statistical model is trained on
representative source-language text corpora.</p><p>The result of processing the example text delivered by the
  morphological analyser with the part-of-speech tagger would be:</p><p>\begin{alltt}
^ser&lt;vbser&gt;&lt;pri&gt;&lt;p3&gt;&lt;sg&gt;\$[ &lt;em&gt;]^un&lt;det&gt;&lt;ind&gt;&lt;f&gt;&lt;sg&gt;\$
^se&#241;al&lt;n&gt;&lt;f&gt;&lt;sg&gt;\$[&lt;/em&gt;]
\end{alltt}</p><p>where the correct lexical form (determiner) has been selected for the
word \emph{una}.</p><p>The specification of the part-of-speech tagger is in section
  \ref{ss:tagger}.</p><p>\item The \emph{lexical transfer module}, that uses a bilingual
dictionary and is called by the structural transfer module, reads each
LF of the SL and delivers the corresponding target language (TL)
lexical form. The dictionary contains a single equivalent for each SL
lexical form; that is, no word-sense disambiguation is performed
\nota{now not true: lextor}. Multiwords are translated as a single unit.
The lexical forms in the running example would be translated into
Catalan as follows:</p><p>\begin{alltt}
ser&lt;vbser&gt; \(\longrightarrow\) ser&lt;vbser&gt;
un&lt;det&gt; \(\longrightarrow\) un&lt;det&gt;
se&#241;al&lt;n&gt;&lt;f&gt; \(\longrightarrow\) senyal&lt;n&gt;&lt;m&gt;
\end{alltt}</p><p>This module is generated from a bilingual dictionary, which is
described in Section \ref{ss:diccionarios}.</p><p>\item The \emph{structural transfer module}, which detects and
processes patterns of words (chunks or phrases) that need special
processing due to grammatical divergences between the two languages
(gender and number changes, word reorderings, changes in prepositions,
etc.). This module is generated from a file containing rules which
describe the action to be taken for each pattern.  In the running
example, the pattern formed by
\verb!^!\texttt{un&lt;det&gt;&lt;ind&gt;&lt;f&gt;&lt;sg&gt;}\verb!$!
\verb!^!\texttt{se&#241;al&lt;n&gt;&lt;f&gt;&lt;sg&gt;}\verb!$! would be detected by a
determiner&ndash;noun rule, which in this case would change the gender of
the determiner so that it agrees with the noun; the result would be:</p><p>\begin{alltt}
^ser&lt;vbser&gt;&lt;pri&gt;&lt;p3&gt;&lt;sg&gt;\$[ &lt;em&gt;]^un&lt;det&gt;&lt;ind&gt;&lt;m&gt;&lt;sg&gt;\$
^senyal&lt;n&gt;&lt;m&gt;&lt;sg&gt;\$[&lt;/em&gt;]
\end{alltt}</p><p>The format of the structural transfer rules file, inspired in the one
 described in \cite{garridoalenda01p}, is specified in Section
 \ref{ss:transfer}.
\item The \emph{morphological generator}, that, from a lexical form in
the target language, generates a suitably inflected surface form. The
result for the example phrase would be:
\begin{alltt}
&#233;s[ &lt;em&gt;]un senyal[&lt;/em&gt;]
\end{alltt}</p><p>This module is generated from a morphological dictionary, which is
described in detail in Section \ref{ss:diccionarios}.
\item The \emph{post-generator}, that performs some orthographic
operations in the TL such as contractions and apostrophations, and
which is generated from a transformation rules file the format of
which is very similar to the format of the mentioned dictionaries. Its
format is specified in Section \ref{ss:diccionarios}. In the example
text there is no need to perform any contraction or apostrophation.
\item The \emph{re-formatter}, which restores the original format
information into the translated text; the result for the running
example would be the correct conversion of the text into HTML format:
\begin{alltt}
&#233;s &lt;em&gt;un senyal&lt;/em&gt;
\end{alltt}</p><p>The specification of the re-formatter is described in Section
\ref{ss:formato}.
\end{itemize}</p><p>The four lexical processing modules (morphological analyser, lexical
transfer module, morphological generator and post-generator) use a
single compiler, based on a class of \emph{finite-state transducers}
\cite{garrido99j}, in particular, letter transducers
\cite{roche97,ortiz05j}; its characteristics are described in Section
\ref{se:compiladoresdic}.</p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;7.2&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;7.2&quot;);">top</a></span><span class="navright">&nbsp;&nbsp;<a href="intro.html" title="backward to &quot;1 Introduction&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Documentation of the Open-Source Shallow-Transfer
Machine-Translation Platform Apertium&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="stream-format-spec.html" title="forward to &quot;3 Format
specification of the data stream between modules&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>